# if zookeeper URL is not specified, slaves will connect directly
# to specified master (not a fault-tolerant mode)
<% master = scope.lookupvar('mesos::master') %>
<% if !master.nil? && !master.empty? -%>
  MASTER="<%= master %>:<%= scope.lookupvar('mesos::master_port') %>"
<% else -%>
  MASTER="<%= scope.lookupvar('mesos::zk') %>"
<% end -%>

# public slave's ip, must be unique in mesos cluster
IP="<%= scope.lookupvar('ipaddress') %>"

# Port to listen on (default: 5051)
PORT=<%= scope.lookupvar('mesos::slave::port') %>

# Where to place framework work directories (default: /tmp/mesos)
WORKDIR="<%= scope.lookupvar('mesos::work_dir') %>"

# Whether to checkpoint slave and frameworks information
# to disk. This enables a restarted slave to recover
# status updates and reconnect with (--recover=reconnect) or
# kill (--recover=kill) old executors (default: false)
CHECKPOINT=<%= scope.lookupvar('mesos::checkpoint') %>

#OPTS="--hadoop_home=/usr/lib/hadoop-0.20/"

# alternative is to use MESOS_<option> as an envar
# option list is available with /usr/sbin/mesos-slave --help
# EX :
# export MESOS_log_dir=/var/log/mesos
